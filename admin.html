<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - ECSTASY ROMANIA</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
* { box-sizing:border-box; margin:0; padding:0;}
body { font-family:'Roboto',sans-serif; background: linear-gradient(135deg,#0b0c17,#1b1f38,#4fc3f7); background-size:400% 400%; animation:gradientBG 20s ease infinite; color:#fff; min-height:100vh; display:flex;}
@keyframes gradientBG {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
.sidebar { width:220px; background: rgba(17,17,17,0.6); padding:30px 10px; display:flex; flex-direction:column; align-items:center; height:100vh; position:fixed; top:0; left:0; backdrop-filter: blur(10px); box-shadow: 2px 0 15px rgba(0,0,0,0.5);}
.sidebar h2 { color:#ff6600; margin-bottom:30px; text-align:center; }
.sidebar button { background:none; border:none; color:#fff; padding:12px 20px; width:100%; text-align:left; margin:5px 0; border-radius:8px; font-weight:bold; cursor:pointer; transition:0.3s;}
.sidebar button.active, .sidebar button:hover { background:#ff6600; color:#000; }
.main { margin-left:220px; padding:20px; flex:1; }
form, .list { background: rgba(17,17,17,0.7); padding:20px; border-radius:12px; max-width:900px; margin:20px auto; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
form input, form select, form textarea { width:100%; padding:12px; margin:10px 0; border:none; border-radius:8px; background:#222; color:#fff; }
form input::placeholder, form textarea::placeholder { color:#bbb; }
form button { background:#ff6600; border:none; padding:12px; width:100%; border-radius:8px; color:#fff; font-weight:bold; cursor:pointer; transition:0.3s; }
form button:hover { background:#cc5200; }
.item { background: rgba(17,17,17,0.6); margin:10px 0; padding:15px; border-radius:10px; display:flex; justify-content:space-between; align-items:center; transition:0.3s; flex-wrap:wrap;}
.item:hover { background: rgba(17,17,17,0.9);}
.item-info { display:flex; align-items:center; gap:15px; flex-wrap: wrap;}
.item-actions button { margin-left:8px; border:none; padding:6px 12px; cursor:pointer; border-radius:6px; font-weight:bold; transition:0.2s;}
.delete-btn { background:#ff4444; color:#fff; } .delete-btn:hover { background:#cc0000;}
.edit-btn { background:#ff6600; color:#fff; } .edit-btn:hover { background:#cc5200;}
@media(max-width:800px){ .sidebar { width:100%; height:auto; flex-direction:row; justify-content:space-around; padding:10px;} .main { margin-left:0; } .item-info { flex-direction:column; align-items:flex-start; }}
.model-card { display:flex; align-items:center; margin-bottom:10px; background: rgba(34,34,34,0.8); padding:8px; border-radius:8px; }
.model-card input { flex:1; }
.model-card button { margin-left:10px; background:#ff4444; color:#fff; border:none; padding:6px 12px; border-radius:6px; cursor:pointer; }
.add-btn { margin-top:12px; background:#28a745; color:#fff; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; }
</style>
</head>
<body>

<div class="sidebar">
    <h2>ECSTASY ADMIN</h2>
    <button onclick="showTab('staff')" id="btn-staff" class="active">Staff</button>
    <button onclick="showTab('sanctiuniStaff')" id="btn-sanctiuniStaff">Sanctiuni Staff</button>
    <button onclick="showTab('aplicatiiStaff')" id="btn-aplicatiiStaff">Aplicații Staff</button>
    <button onclick="showTab('modelStaff')" id="btn-modelStaff">Model Aplicatie Staff</button>
    <button onclick="showTab('reclamatiStaff')" id="btn-reclamatiStaff">Reclamații Staff</button>
    <button onclick="showTab('reclamatiJucatori')" id="btn-reclamatiJucatori">Reclamații Jucători</button>
    <button onclick="showTab('reclamatiMafii')" id="btn-reclamatiMafii">Reclamații Mafii</button>
</div>

<div class="main">
    <h1>Admin Panel - ECSTASY ROMANIA</h1>

    <!-- Staff -->
    <div id="staff" class="tab">
        <h2>Staff Manager</h2>
        <form id="staffForm">
            <input type="text" id="name" placeholder="Nume jucător" required>
            <input type="text" id="rank" placeholder="Grad (ex: Moderator)" required>
            <input type="text" id="img" placeholder="Link poză/GIF" required>
            <select id="group" required>
                <option value="">Selectează grup</option>
                <option value="COMMUNITY OWNERS">Community Owners</option>
                <option value="CO FOUNDERS">Co Founders</option>
                <option value="MANAGER STAFF">Manager Staff</option>
                <option value="ADMINISTRATORS">Administrators</option>
                <option value="MODERATORS">Moderators</option>
                <option value="HELPERS">Helpers</option>
                <option value="TRYAL HELPERS">Tryal Helpers</option>
            </select>
            <button type="submit">Adaugă Membru</button>
        </form>
        <div id="members" class="list"></div>
    </div>

    <!-- Sanctiuni Staff -->
    <div id="sanctiuniStaff" class="tab" style="display:none;">
        <h2>Sanctiuni Staff</h2>
        <div id="sanctiuniList" class="list"></div>
    </div>

    <!-- Aplicatii Staff -->
    <div id="aplicatiiStaff" class="tab" style="display:none;">
        <h2>Aplicații Staff</h2>
        <div id="aplicatiiStaffList" class="list"></div>
    </div>

    <!-- Model Staff -->
    <div id="modelStaff" class="tab" style="display:none;">
        <h2>Setează Model Aplicație Staff</h2>
        <form id="modelStaffForm">
            <div id="modelFields"></div>
            <button type="submit">Salvează Model Aplicație</button>
        </form>
    </div>

    <!-- Reclamații Staff -->
    <div id="reclamatiStaff" class="tab" style="display:none;">
        <h2>Reclamații Staff</h2>
        <div id="reclamatiStaffList" class="list"></div>
    </div>

    <!-- Reclamații Jucători -->
    <div id="reclamatiJucatori" class="tab" style="display:none;">
        <h2>Reclamații Jucători</h2>
        <div id="reclamatiJucatoriList" class="list"></div>
    </div>

    <!-- Reclamații Mafii -->
    <div id="reclamatiMafii" class="tab" style="display:none;">
        <h2>Reclamații Mafii</h2>
        <div id="reclamatiMafiiList" class="list"></div>
    </div>

</div>

<script>
// Tab Navigation
function showTab(tab){
    document.querySelectorAll(".tab").forEach(d=>d.style.display="none");
    document.querySelectorAll(".sidebar button").forEach(b=>b.classList.remove("active"));
    document.getElementById(tab).style.display="block";
    document.getElementById("btn-"+tab).classList.add("active");
}

// Staff Management
let staffData = JSON.parse(localStorage.getItem("staffMembers"))||[];
let editStaffIndex = null;
const staffForm = document.getElementById("staffForm");
const membersDiv = document.getElementById("members");

function renderMembers(){
    membersDiv.innerHTML="";
    staffData.forEach((m,i)=>{
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`<div class="item-info">
            <img src="${m.img}" alt="${m.name}">
            <div><strong>${m.name}</strong> - ${m.rank} (${m.group})</div>
        </div>
        <div class="item-actions">
            <button class="edit-btn" onclick="editMember(${i})">Editează</button>
            <button class="delete-btn" onclick="deleteMember(${i})">Șterge</button>
        </div>`;
        membersDiv.appendChild(div);
    });
    renderSanctiuni();
}

staffForm.addEventListener("submit", e=>{
    e.preventDefault();
    const name=document.getElementById("name").value.trim();
    const rank=document.getElementById("rank").value.trim();
    const img=document.getElementById("img").value.trim();
    const group=document.getElementById("group").value;
    if(editStaffIndex===null){
        staffData.push({name,rank,img,group});
    } else {
        staffData[editStaffIndex]={name,rank,img,group};
        editStaffIndex=null;
        staffForm.querySelector("button").innerText="Adaugă Membru";
    }
    localStorage.setItem("staffMembers",JSON.stringify(staffData));
    renderMembers();
    staffForm.reset();
});

function deleteMember(i){ staffData.splice(i,1); localStorage.setItem("staffMembers",JSON.stringify(staffData)); renderMembers(); }
function editMember(i){
    const m=staffData[i];
    document.getElementById("name").value=m.name;
    document.getElementById("rank").value=m.rank;
    document.getElementById("img").value=m.img;
    document.getElementById("group").value=m.group;
    editStaffIndex=i;
    staffForm.querySelector("button").innerText="Salvează Modificările";
}

// Sanctiuni Staff
let sanctiuniData = JSON.parse(localStorage.getItem("sanctiuniStaff"))||[];

function renderSanctiuni(){
    const container=document.getElementById("sanctiuniList");
    container.innerHTML="";
    staffData.forEach(staff=>{
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`<div class="item-info">
            <img src="${staff.img}" alt="${staff.name}">
            <div><strong>${staff.name}</strong> - ${staff.rank}</div>
        </div>`;
        const actions=document.createElement("div");
        actions.className="item-actions";
        const input=document.createElement("input"); input.type="text"; input.placeholder="Introduceți sancțiune";
        const addBtn=document.createElement("button"); addBtn.className="edit-btn"; addBtn.innerText="Adaugă sancțiune";
        addBtn.onclick=()=>{
            const text=input.value.trim(); if(!text) return;
            sanctiuniData.push({staffName:staff.name,text});
            localStorage.setItem("sanctiuniStaff",JSON.stringify(sanctiuniData));
            input.value="";
            renderSanctiuni();
        }
        actions.appendChild(input); actions.appendChild(addBtn);
        div.appendChild(actions);
        const sancList=document.createElement("div"); sancList.style.marginTop="8px";
        sanctiuniData.filter(s=>s.staffName===staff.name).forEach(s=>{
            const span=document.createElement("div");
            span.style.display="flex"; span.style.justifyContent="space-between"; span.style.marginTop="4px";
            span.innerHTML=`<span>${s.text}</span>`;
            const delBtn=document.createElement("button"); delBtn.className="delete-btn"; delBtn.style.padding="2px 6px"; delBtn.innerText="🗑";
            delBtn.onclick=()=>{ sanctiuniData.splice(sanctiuniData.indexOf(s),1); localStorage.setItem("sanctiuniStaff",JSON.stringify(sanctiuniData)); renderSanctiuni(); }
            span.appendChild(delBtn);
            sancList.appendChild(span);
        });
        div.appendChild(sancList);
        container.appendChild(div);
    });
}

// Aplicatii Staff
function renderAplicatiiStaff(){
    const container=document.getElementById("aplicatiiStaffList");
    container.innerHTML="";
    aplicatii.filter(a=>a.type==="staff").forEach((a,i)=>{
        const div=document.createElement("div"); div.className="item";
        let model=JSON.parse(localStorage.getItem("modelStaff"))||["Nume jucător","Motivație / Mesaj"];
        let content=`<div><strong>${a.name}</strong> - Status: ${a.status||"În așteptare"}<br>`;
        if(a.answers){ a.answers.forEach((ans,j)=>{ content+=`<strong>${model[j]||"Întrebare "+(j+1)}:</strong> ${ans}<br>`; }); }
        content+=`</div>`;
        div.innerHTML=content;
        const actions=document.createElement("div"); actions.className="item-actions";
        const accept=document.createElement("button"); accept.className="edit-btn"; accept.innerText="Acceptă"; accept.onclick=()=>{ a.status="Acceptat"; saveAplicatii(); };
        const reject=document.createElement("button"); reject.className="delete-btn"; reject.innerText="Respinge"; reject.onclick=()=>{ a.status="Respins"; saveAplicatii(); };
        const del=document.createElement("button"); del.className="delete-btn"; del.innerText="Șterge"; del.onclick=()=>{ aplicatii.splice(i,1); saveAplicatii(); };
        actions.appendChild(accept); actions.appendChild(reject); actions.appendChild(del); div.appendChild(actions);
        container.appendChild(div);
    });
}

function saveAplicatii(){ localStorage.setItem("aplicatii",JSON.stringify(aplicatii)); renderAplicatiiStaff(); }

// Model Staff
let modelStaffFields=JSON.parse(localStorage.getItem("modelStaff"))||["Nume jucător","Motivație / Mesaj"];
const modelFieldsContainer=document.getElementById("modelFields");

function renderModelStaffInputs(){
    modelFieldsContainer.innerHTML="";
    modelStaffFields.forEach((f,i)=>{
        const wrapper=document.createElement("div"); wrapper.className="model-card";
        const input=document.createElement("input"); input.type="text"; input.value=f; input.placeholder="Întrebare "+(i+1); input.oninput=e=>modelStaffFields[i]=e.target.value;
        const delBtn=document.createElement("button"); delBtn.type="button"; delBtn.innerText="🗑 Șterge"; delBtn.onclick=()=>{ modelStaffFields.splice(i,1); renderModelStaffInputs(); };
        wrapper.appendChild(input); wrapper.appendChild(delBtn); modelFieldsContainer.appendChild(wrapper);
    });
    const addBtn=document.createElement("button"); addBtn.type="button"; addBtn.innerText="➕ Adaugă întrebare"; addBtn.className="add-btn"; addBtn.onclick=()=>{ modelStaffFields.push(""); renderModelStaffInputs(); };
    modelFieldsContainer.appendChild(addBtn);
}

document.getElementById("modelStaffForm").addEventListener("submit", e=>{
    e.preventDefault();
    modelStaffFields=modelStaffFields.map(f=>f.trim()).filter(f=>f!=="");
    localStorage.setItem("modelStaff",JSON.stringify(modelStaffFields));
    alert("Model aplicație Staff salvat!");
});

// Reclamații
let reclamatiiStaff = JSON.parse(localStorage.getItem("reclamatiiStaff"))||[];
let reclamatiiJucatori = JSON.parse(localStorage.getItem("reclamatiiJucatori"))||[];
let reclamatiiMafii = JSON.parse(localStorage.getItem("reclamatiiMafii"))||[];

function renderReclamatii(list,id){
    const container=document.getElementById(id);
    container.innerHTML="";
    list.forEach((r,i)=>{
        const div=document.createElement("div"); div.className="item";
        div.innerHTML=`<div>${r.title||"Reclamație"} - ${r.description||""}</div>`;
        const delBtn=document.createElement("button"); delBtn.className="delete-btn"; delBtn.innerText="Șterge"; delBtn.onclick=()=>{
            list.splice(i,1); localStorage.setItem(id,list); renderReclamatii(list,id);
        };
        div.appendChild(delBtn);
        container.appendChild(div);
    });
}

// Init
renderMembers(); renderSanctiuni(); renderAplicatiiStaff(); renderModelStaffInputs();
renderReclamatii(reclamatiiStaff,"reclamatiStaffList");
renderReclamatii(reclamatiiJucatori,"reclamatiJucatoriList");
renderReclamatii(reclamatiiMafii,"reclamatiMafiiList");

</script>
</body>
</html>
