<!DOCTYPE html>
<html lang="ro">
<head>
<link rel="icon" type="image/png" href="logo.png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reclamații Mafii</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body { margin:0; font-family:'Roboto',sans-serif; background: linear-gradient(135deg,#0b0c17,#1b1f38,#4fc3f7,#0b1c17); color:#fff; min-height:100vh;}
nav { display: flex; align-items: center; background: transparent; padding: 10px 40px; border-bottom: 1px solid rgba(255,255,255,0.1); position: sticky; top: 0; z-index: 100; }
nav img { height: 40px; margin-right: 50px; }
nav ul { display: flex; gap: 40px; list-style: none; margin: 0 auto; padding: 0; align-items:center; }
nav ul li a { color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; font-size: 0.85em; transition:0.2s;}
nav ul li a:hover { color: #ff6600; }
#profile { display:flex; align-items:center; gap:8px; font-weight:700; color:#fff; }
#profile span.logout { color:#ff6600; cursor:pointer; font-weight:700; }

form { max-width:400px; margin:50px auto; display:flex; flex-direction:column; gap:10px; background:rgba(17,17,17,0.85); padding:20px; border-radius:8px; }
input, textarea { padding:10px; border:none; border-radius:6px; background:#222; color:#fff; }
button { padding:10px; border:none; border-radius:6px; background:#ff6600; color:#fff; cursor:pointer; font-weight:bold; }
button:hover { background:#cc5200; }
</style>
</head>
<body>

<nav>
  <img src="logo.png" alt="Logo">
  <ul>
    <li><a href="index.html">Forumuri</a></li>
    <li><a href="Staff.html">Staff</a></li>
    <li><a href="evidenta.html">Evidența Servere</a></li>
    <li id="profile"></li>
  </ul>
</nav>

<form id="reclamatiiMafForm">
  <h2>Trimite Reclamație Mafii</h2>
  <input type="text" id="idTau" placeholder="ID tău" required>
  <input type="text" id="idReclamant" placeholder="Nume/ID mafie reclamată" required>
  <textarea id="motiv" placeholder="Motiv reclamație" required></textarea>
  <input type="text" id="linkDovada" placeholder="Link dovadă (opțional)">
  <button type="submit">Trimite</button>
</form>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyA40DfthDKIy812oujRj2JLLg1Y_dCvJvI",
  authDomain: "ecstassy-44277.firebaseapp.com",
  databaseURL: "https://ecstassy-44277-default-rtdb.firebaseio.com",
  projectId: "ecstassy-44277",
  storageBucket: "ecstassy-44277.firebasestorage.app",
  messagingSenderId: "557171186889",
  appId: "1:557171186889:web:0cae151137b761b2660118",
  measurementId: "G-34Q8PVK8EH"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
const profileLi = document.getElementById("profile");

auth.onAuthStateChanged(user => {
  if(user){
    db.ref('users/'+user.uid).once('value').then(snapshot=>{
      const data = snapshot.val();
      profileLi.innerHTML = `<i class="fas fa-user"></i> ${user.displayName || user.email} <span class="logout" onclick="logout()">Logout</span>`;
    });
  } else {
    profileLi.innerHTML = '';
  }
});

function logout(){ auth.signOut(); }

const form = document.getElementById("reclamatiiMafForm");
form.addEventListener("submit", e => {
  e.preventDefault();
  const idTau = document.getElementById("idTau").value.trim();
  const idReclamant = document.getElementById("idReclamant").value.trim();
  const motiv = document.getElementById("motiv").value.trim();
  const link = document.getElementById("linkDovada").value.trim();
  if(!idTau || !idReclamant || !motiv) return;

  let reclamatii = JSON.parse(localStorage.getItem("reclamatiiMafii")) || [];
  reclamatii.push({
    from: idTau,
    message: `Împotriva mafiei: ${idReclamant}\nMotiv: ${motiv}\nDovadă: ${link || "Nicio dovadă"}`
  });
  localStorage.setItem("reclamatiiMafii", JSON.stringify(reclamatii));

  alert("Reclamația a fost trimisă!");
  form.reset();
});
</script>

</body>
</html>
