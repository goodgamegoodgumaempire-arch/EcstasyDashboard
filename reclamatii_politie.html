<form id="reclamatiiForm">
  <input type="text" id="reclamatiiFrom" placeholder="Nume persoană" required>
  <textarea id="reclamatiiMessage" placeholder="Descrie reclamația" required></textarea>
  <button type="submit">Trimite</button>
</form>
<div id="reclamatiiList" class="list"></div>

<script>
const reclamatiiForm = document.getElementById("reclamatiiForm");
const reclamatiiList = document.getElementById("reclamatiiList");

// preluăm reclamațiile existente din localStorage sau inițializare goală
let reclamatiiPolitie = JSON.parse(localStorage.getItem("reclamatiiPolitie")) || [];

function renderReclamatii(){
  reclamatiiList.innerHTML = "";
  reclamatiiPolitie.forEach((r, i)=>{
    const div = document.createElement("div");
    div.classList.add("item");
    div.innerHTML = `<strong>De la:</strong> ${r.from}<br>${r.message}`;
    const delBtn = document.createElement("button");
    delBtn.className = "delete-btn";
    delBtn.innerText = "Șterge";
    delBtn.onclick = ()=>{
      reclamatiiPolitie.splice(i,1);
      localStorage.setItem("reclamatiiPolitie", JSON.stringify(reclamatiiPolitie));
      renderReclamatii();
    };
    div.appendChild(delBtn);
    reclamatiiList.appendChild(div);
  });
}

reclamatiiForm.addEventListener("submit", e=>{
  e.preventDefault();
  const from = document.getElementById("reclamatiiFrom").value.trim();
  const message = document.getElementById("reclamatiiMessage").value.trim();
  if(!from || !message) return; // validare
  reclamatiiPolitie.push({from, message}); // salvăm exact cu proprietățile from și message
  localStorage.setItem("reclamatiiPolitie", JSON.stringify(reclamatiiPolitie));
  reclamatiiForm.reset();
  renderReclamatii();
});

renderReclamatii();
</script>
