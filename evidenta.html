<!DOCTYPE html>
<html lang="ro">
<head>
<link rel="icon" type="image/png" href="logo.png">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Status Server Ecstasy Romania RolePlay</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
    margin:0;
    font-family:'Roboto',sans-serif;
    color:#fff;
    min-height:100vh;
    background: linear-gradient(135deg,#0b0c17,#1b1f38,#4fc3f7,#0b0c17);
    background-size:400% 400%;
    animation: gradientBG 20s ease infinite;
    display: flex;
    flex-direction: column;
    align-items: center;
}
@keyframes gradientBG {
    0%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
    100%{background-position:0% 50%;}
}

/* Navbar stil index.html */
nav {
    display: flex;
    align-items: center;
    background: transparent;
    padding: 10px 40px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 100;
}
nav img { height: 40px; margin-right: 50px; }
nav ul { display: flex; gap: 40px; list-style: none; margin: 0 auto; padding: 0; align-items: center;}
nav ul li a { color: #fff; text-decoration: none; display: flex; flex-direction: column; align-items: center; font-size: 0.85em; transition: 0.2s; }
nav ul li a:hover, nav ul li.active a { color: #ff6600; }
#profile { display:flex; align-items:center; gap:8px; font-weight:700; color:#fff; }
#profile span.logout { color:#ff6600; cursor:pointer; font-weight:700; }

/* Card status server */
.status-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
}
.status-card {
    background: rgba(17,17,17,0.85);
    padding: 25px;
    border-radius: 10px;
    width: 400px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.6);
}
.status-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.status-header h2 { margin: 0; font-size: 18px; }
.status-header span { font-size: 14px; color: #aaa; }
.status-status { margin: 10px 0; }
.status-status span.online { color: #2ecc71; font-weight: bold; animation: pulse 2s infinite; }
.status-status span.offline { color: #e74c3c; font-weight: bold; }
@keyframes pulse { 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.1); } }
.status-info p { margin: 5px 0; }
.connect-btn { display: inline-block; margin: 10px 0; padding: 8px 16px; background: #2980b9; color: #fff; border: none; border-radius: 5px; cursor: pointer; text-decoration: none; }
.graph { width: 100%; height: 60px; background: #111; border-radius: 5px; overflow: hidden; margin-top: 10px; position: relative; }
.graph-bar { height: 100%; background: #2ecc71; width: 0; position: absolute; bottom: 0; }
</style>
</head>
<body>

<!-- Navbar cu profil -->
<nav>
    <img src="logo.png" alt="ECSTASY Logo">
    <ul>
        <li class="active"><a href="index.html">Forumuri</a></li>
        <li><a href="Staff.html">Staff</a></li>
        <li><a href="evidenta.html">Evidența Servere</a></li>
        <li id="profile"></li>
    </ul>
</nav>

<div class="status-container">
    <div class="status-card">
        <div class="status-header">
            <h2>Ecstasy Romania RolePlay</h2>
            <span>cfx.re/join/y4omb9</span>
        </div>
        <div class="status-status">
            Status: <span id="serverStatus" class="online">ONLINE</span>
        </div>
        <div class="status-info">
            <p>Hartă: <span id="serverMap">city</span></p>
            <p>Jucători: <span id="serverPlayers">0/48</span></p>
        </div>
        <a href="fivem://connect/cfx.re/join/y4omb9" class="connect-btn">Connect</a>
        <div class="graph" id="playerGraph"></div>
    </div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyA40DfthDKIy812oujRj2JLLg1Y_dCvJvI",
  authDomain: "ecstassy-44277.firebaseapp.com",
  databaseURL: "https://ecstassy-44277-default-rtdb.firebaseio.com",
  projectId: "ecstassy-44277",
  storageBucket: "ecstassy-44277.firebasestorage.app",
  messagingSenderId: "557171186889",
  appId: "1:557171186889:web:0cae151137b761b2660118",
  measurementId: "G-34Q8PVK8EH"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

const profileLi = document.getElementById("profile");

// Afișare user conectat
auth.onAuthStateChanged(user => {
  if(user){
    db.ref('users/'+user.uid).once('value').then(snapshot=>{
      const data = snapshot.val();
      profileLi.innerHTML = `<i class="fas fa-user"></i> ${user.displayName || user.email} <span class="logout" onclick="logout()">Logout</span>`;
    });
  } else {
    profileLi.innerHTML = '';
  }
});

function logout(){ auth.signOut(); }

// Status server static
const maxPlayers = 48;
const currentPlayers = 0;
document.getElementById('serverPlayers').textContent = `${currentPlayers}/${maxPlayers}`;
const graph = document.getElementById('playerGraph');
const values = Array(10).fill(0);
values.forEach((v,i)=>{
    let bar = document.createElement('div');
    bar.className='graph-bar';
    bar.style.left = `${i*10}%`;
    bar.style.width='8%';
    bar.style.height='0%';
    graph.appendChild(bar);
});
</script>

</body>
</html>
