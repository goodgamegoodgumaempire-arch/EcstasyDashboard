<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PanelMD - Medici ECSTASY</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body { font-family:'Roboto',sans-serif; background:#0b0c17; color:#fff; min-height:100vh; padding:20px;}
h1,h2 { color:#ff6600; }
.list { max-width:900px; margin-top:20px;}
.item { background: rgba(17,17,17,0.7); margin:10px 0; padding:12px; border-radius:8px; display:flex; justify-content:space-between; align-items:center;}
.item-actions button { margin-left:6px; padding:6px 12px; border:none; border-radius:6px; cursor:pointer; font-weight:bold;}
.accept-btn { background:#28a745; color:#fff; } .accept-btn:hover { background:#218838; }
.reject-btn { background:#dc3545; color:#fff; } .reject-btn:hover { background:#c82333; }
.delete-btn { background:#ff4444; color:#fff; } .delete-btn:hover { background:#cc0000; }
.status { font-weight:bold; margin-left:10px;}
form textarea { width:100%; height:100px; padding:10px; border-radius:8px; border:none; background:#222; color:#fff; margin:5px 0; }
form button.save-model { background:#ff6600; margin-top:10px; width:auto; padding:10px 20px; border:none; border-radius:8px; color:#fff; font-weight:bold; cursor:pointer; }
form button.save-model:hover { background:#cc5200; }
</style>
</head>
<body>

<h1>PanelMD - Medici</h1>

<h2>Setează Model Aplicație Medici</h2>
<form id="modelForm">
    <textarea id="modelMediciTextarea" placeholder="Scrie fiecare întrebare pe câte un rând..."></textarea>
    <button type="submit" class="save-model">Salvează Model</button>
</form>

<h2>Aplicații Medici</h2>
<div id="applications" class="list"></div>

<script>
// --- Preluare aplicații ---
let aplicatii = JSON.parse(localStorage.getItem("aplicatii")) || [];

// --- Preluare model ---
let modelMedici = JSON.parse(localStorage.getItem("modelMedici")) || ["Nume jucător","Motivație / Mesaj"];
document.getElementById("modelMediciTextarea").value = modelMedici.join("\n");

// --- Salvează model ---
document.getElementById("modelForm").addEventListener("submit", function(e){
    e.preventDefault();
    const text = document.getElementById("modelMediciTextarea").value.trim();
    modelMedici = text.split("\n").map(t=>t.trim()).filter(t=>t!=="");
    localStorage.setItem("modelMedici", JSON.stringify(modelMedici));
    alert("Modelul aplicației Medici a fost salvat!");
});

// --- Render aplicații ---
function renderAplicatii(){
    const container = document.getElementById("applications");
    container.innerHTML="";
    aplicatii.forEach((a,i)=>{
        if(a.type!=="medici") return;
        const div = document.createElement("div");
        div.classList.add("item");
        div.innerHTML = `<div><strong>${a.name}</strong> - ${a.message} <span class="status">${a.status||"În așteptare"}</span></div>`;
        const actions = document.createElement("div");
        actions.classList.add("item-actions");

        const accept = document.createElement("button");
        accept.className="accept-btn"; accept.innerText="Acceptă"; 
        accept.onclick=()=>{ a.status="Acceptat"; saveRender(); };

        const reject = document.createElement("button");
        reject.className="reject-btn"; reject.innerText="Respinge";
        reject.onclick=()=>{ a.status="Respins"; saveRender(); };

        const del = document.createElement("button");
        del.className="delete-btn"; del.innerText="Șterge";
        del.onclick=()=>{ aplicatii.splice(i,1); saveRender(); };

        actions.appendChild(accept);
        actions.appendChild(reject);
        actions.appendChild(del);
        div.appendChild(actions);
        container.appendChild(div);
    });
}

// --- Salvează și rerandează ---
function saveRender(){
    localStorage.setItem("aplicatii", JSON.stringify(aplicatii));
    renderAplicatii();
}

// --- Init ---
renderAplicatii();
</script>

</body>
</html>
