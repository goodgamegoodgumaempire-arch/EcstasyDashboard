<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aplica»õii - G4A Romania</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body { margin:0; font-family:'Roboto',sans-serif; background: linear-gradient(135deg,#0b0c17,#1b1f38,#4fc3f7,#0b0c17); background-size:400% 400%; animation: gradientBG 20s ease infinite; color:#fff; min-height:100vh;}
@keyframes gradientBG {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
nav { display:flex; align-items:center; background:transparent; padding:10px 40px; border-bottom:1px solid rgba(255,255,255,0.1); position:sticky; top:0; z-index:100;}
nav img { height:40px; margin-right:50px;}
nav ul { display:flex; gap:40px; list-style:none; margin:0 auto; padding:0;}
nav ul li a { color:#fff; text-decoration:none; display:flex; flex-direction:column; align-items:center; font-size:0.85em; transition:0.2s;}
nav ul li a:hover, nav ul li.active a { color:#ff6600;}
#layout { display:flex; max-width:1300px; margin:20px auto; gap:20px; padding:0 20px;}
#main { flex:3;} #sidebar { flex:1;}
.card { background: rgba(17,17,17,0.85); border-radius: 10px; padding:20px; margin:15px 0; border:1px solid #333; box-shadow:0 4px 15px rgba(0,0,0,0.5); transition: transform 0.3s, box-shadow 0.3s;}
.card:hover { transform: translateY(-5px); box-shadow:0 8px 25px rgba(0,0,0,0.7);}
.card h2 { margin:0 0 10px; font-size:1.1em; color:#fff;}
.item { background: rgba(17,17,17,0.7); margin:10px 0; padding:12px; border-radius:8px;}
.status { font-weight:bold; margin-left:10px; color:#ffcc00;}
input, textarea, button { font-family:'Roboto',sans-serif; border-radius:8px; border:none; padding:8px; margin:5px 0; width:100%;}
button { background:#ff6600; color:#fff; cursor:pointer; transition:0.3s;}
button:hover { background:#cc5200;}
.hidden { display:none; }
</style>
</head>
<body>

<nav>
  <img src="logo.png" alt="G4A Logo">
  <ul>
    <li><a href="index.html">AcasƒÉ</a></li>
    <li class="active"><a href="aplicatii.html">Aplica»õii</a></li>
    <li><a href="reclamatii_staff.html">Reclama»õii Staff</a></li>
  </ul>
</nav>

<div id="layout">
  <div id="main">
    <!-- Card aplica»õie Poli»õie -->
    <div class="card">
      <h2>AplicƒÉ pentru Poli»õie</h2>
      <button onclick="toggleForm('politie')">AplicƒÉ</button>
      <div id="formpolitie" class="hidden" data-loaded="false"></div>
    </div>

    <!-- Card aplica»õie Medici -->
    <div class="card">
      <h2>AplicƒÉ pentru Medici</h2>
      <button onclick="toggleForm('medici')">AplicƒÉ</button>
      <div id="formmedici" class="hidden" data-loaded="false"></div>
    </div>

    <!-- Card aplica»õie Staff -->
    <div class="card">
      <h2>AplicƒÉ pentru Staff</h2>
      <button onclick="toggleForm('staff')">AplicƒÉ</button>
      <div id="formstaff" class="hidden" data-loaded="false"></div>
    </div>

    <!-- Lista aplica»õii -->
    <div class="card">
      <h2>Aplica»õiile tale</h2>
      <button onclick="toggleAplica»õiiPublice()">Vezi aplica»õii trimise</button>
      <div id="aplicatiiList" class="hidden"></div>
    </div>
  </div>

  <div id="sidebar">
    <div class="card">
      <h2>Info</h2>
      <p>Aplica»õiile vor fi gestionate de staff prin panourile dedicate:</p>
      <ul>
        <li>üëÆ Poli»õie ‚Üí PanelPD</li>
        <li>üíâ Medici ‚Üí PanelMD</li>
        <li>‚öôÔ∏è Staff ‚Üí Admin Panel</li>
      </ul>
    </div>
  </div>
</div>

<script>
let aplicatii = JSON.parse(localStorage.getItem("aplicatii")) || [];

// Definim modelele per tip
const modele = {
    politie: JSON.parse(localStorage.getItem("modelPolitie")) || ["Nume jucƒÉtor","Motiva»õie / Mesaj"],
    medici: JSON.parse(localStorage.getItem("modelMedici")) || ["Nume jucƒÉtor","Motiva»õie / Mesaj"],
    staff: JSON.parse(localStorage.getItem("modelStaff")) || ["Nume jucƒÉtor","Motiva»õie / Mesaj"]
};

// Toggle form »ôi genereazƒÉ carduri separate pentru fiecare √Æntrebare
function toggleForm(tip){
  const div = document.getElementById("form"+tip);
  if(!div.dataset.loaded || div.dataset.loaded==="false"){

    let model = modele[tip] || ["Nume jucƒÉtor","Motiva»õie / Mesaj"];
    div.innerHTML = "";

    model.forEach(field => {
      const card = document.createElement("div");
      card.className = "card";
      const label = document.createElement("label");
      label.innerText = field;
      let el = field.toLowerCase().includes("mesaj") ? document.createElement("textarea") : document.createElement("input");
      el.dataset.field = field;
      card.appendChild(label);
      card.appendChild(el);
      div.appendChild(card);
    });

    const submitBtn = document.createElement("button");
    submitBtn.innerText = "Trimite aplica»õie";
    submitBtn.onclick = ()=> trimiteAplicatie(tip);
    div.appendChild(submitBtn);

    div.dataset.loaded = "true";
  }

  div.style.display = (div.style.display==="block") ? "none" : "block";
}

// Trimite aplica»õie
function trimiteAplicatie(tip){
  const div = document.getElementById("form"+tip);
  const inputs = Array.from(div.querySelectorAll("input,textarea"));
  const values = inputs.map(i=>i.value.trim());
  if(values.some(v=>v==="")) { alert("CompleteazƒÉ toate c√¢mpurile!"); return; }

  // SalvƒÉm aplica»õia conform panelului corespunzƒÉtor
  let obj = {type:tip, name:values[0], answers: values, status:"√én a»ôteptare"};
  aplicatii.push(obj);
  localStorage.setItem("aplicatii", JSON.stringify(aplicatii));
  alert("Aplica»õia a fost trimisƒÉ!");

  // reset form
  inputs.forEach(i=>i.value="");
  div.style.display="none";
  renderAplicatiiPublice();
}

// Render aplica»õii trimise
function renderAplicatiiPublice(){
  const container = document.getElementById("aplicatiiList");
  container.innerHTML = "";
  aplicatii.forEach(a=>{
    const div = document.createElement("div");
    div.className = "item";
    let content = `<strong>${a.name}</strong> [${a.type}]<br>`;
    if(a.answers){
      const model = modele[a.type] || ["Nume jucƒÉtor","Motiva»õie / Mesaj"];
      a.answers.forEach((ans,i)=>{
        content += `<strong>${model[i] || "√éntrebare "+(i+1)}:</strong> ${ans}<br>`;
      });
    }
    content += `<span class="status">${a.status}</span>`;
    div.innerHTML = content;
    container.appendChild(div);
  });
}

// Toggle vizualizare aplica»õii publice
function toggleAplica»õiiPublice(){
  const div = document.getElementById("aplicatiiList");
  div.classList.toggle("hidden");
}

// Ini»õializare
renderAplicatiiPublice();
</script>

</body>
</html>
