<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aplicatii - ECSTASY ROMANIA</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
body { font-family:'Roboto',sans-serif; background:#0b0c17; color:#fff; min-height:100vh; padding:20px;}
h1,h2 { color:#ff6600; }
form { background: rgba(17,17,17,0.8); padding:20px; border-radius:10px; margin-bottom:30px; max-width:600px;}
form input, form select, form textarea { width:100%; padding:10px; margin:8px 0; border-radius:6px; border:none; background:#222; color:#fff;}
form button { padding:10px; border:none; border-radius:6px; background:#ff6600; font-weight:bold; color:#fff; cursor:pointer; margin-top:10px;}
form button:hover { background:#cc5200;}
.list { max-width:900px; margin-top:20px;}
.item { background: rgba(17,17,17,0.7); margin:10px 0; padding:12px; border-radius:8px; display:flex; justify-content:space-between; align-items:center;}
.item-actions button { margin-left:6px; padding:6px 12px; border:none; border-radius:6px; cursor:pointer; font-weight:bold;}
.accept-btn { background:#28a745; color:#fff; } .accept-btn:hover { background:#218838; }
.reject-btn { background:#dc3545; color:#fff; } .reject-btn:hover { background:#c82333; }
.delete-btn { background:#ff4444; color:#fff; } .delete-btn:hover { background:#cc0000; }
.status { font-weight:bold; margin-left:10px;}
</style>
</head>
<body>

<h1>Aplicatii pentru ECSTASY ROMANIA</h1>

<form id="applyForm">
    <h2>Aplică acum</h2>
    <input type="text" id="appName" placeholder="Nume" required>
    <input type="email" id="appEmail" placeholder="Email" required>
    <select id="appType" required>
        <option value="">Selectează pentru ce aplici</option>
        <option value="staff">Staff</option>
        <option value="politie">Poliție</option>
        <option value="medici">Medici</option>
    </select>
    <textarea id="appMessage" placeholder="Scrie motivul pentru care aplici" required></textarea>
    <button type="submit">Trimite aplicația</button>
</form>

<h2>Lista aplicațiilor</h2>
<div id="applications" class="list"></div>

<script>
// --- LocalStorage ---
let aplicatii = JSON.parse(localStorage.getItem("aplicatii")) || [];

// Render lista pentru toata lumea
function renderAplicatii() {
    const container = document.getElementById("applications");
    container.innerHTML="";
    aplicatii.forEach((a,i)=>{
        const div = document.createElement("div");
        div.classList.add("item");
        let statusText = a.status || "În așteptare";
        div.innerHTML = `<div>
            <strong>${a.name}</strong> (${a.type.toUpperCase()}) - ${a.message}
            <span class="status">${statusText}</span>
        </div>`;
        // Daca esti admin (simulat) adauga butoane
        if(a.type==="staff") {
            const actions = document.createElement("div");
            actions.classList.add("item-actions");
            const accept = document.createElement("button");
            accept.className="accept-btn"; accept.innerText="Acceptă"; accept.onclick=()=>{a.status="Acceptat"; saveRender();}
            const reject = document.createElement("button");
            reject.className="reject-btn"; reject.innerText="Respinge"; reject.onclick=()=>{a.status="Respins"; saveRender();}
            const del = document.createElement("button");
            del.className="delete-btn"; del.innerText="Șterge"; del.onclick=()=>{aplicatii.splice(i,1); saveRender();}
            actions.appendChild(accept); actions.appendChild(reject); actions.appendChild(del);
            div.appendChild(actions);
        }
        container.appendChild(div);
    });
}

function saveRender(){ localStorage.setItem("aplicatii",JSON.stringify(aplicatii)); renderAplicatii(); }

// --- Submit form ---
document.getElementById("applyForm").addEventListener("submit", function(e){
    e.preventDefault();
    const name = document.getElementById("appName").value;
    const email = document.getElementById("appEmail").value;
    const type = document.getElementById("appType").value;
    const message = document.getElementById("appMessage").value;
    aplicatii.push({name,email,type,message,status:"În așteptare"});
    saveRender();
    this.reset();
});

// --- Initial render ---
renderAplicatii();
</script>

</body>
</html>
