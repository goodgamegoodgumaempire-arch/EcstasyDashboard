<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabel Lideri - ECSTASY Romania</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
  font-family:'Roboto',sans-serif;
  margin:0;
  padding:0;
  background: linear-gradient(135deg,#0b0c17,#1b1f38,#4fc3f7,#0b0c17);
  background-size:400% 400%;
  animation: gradientBG 20s ease infinite;
  color:#fff;
  min-height:100vh;
}
@keyframes gradientBG {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

.navbar-principal {
  display:flex;
  justify-content:center;
  background: transparent;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  padding:10px 0;
  position: sticky;
  top:0;
  z-index:100;
  align-items:center;
}
.navbar-principal li { list-style:none; margin:0 15px; }
.navbar-principal a {
  color:#fff;
  text-decoration:none;
  font-size:16px;
  padding:5px 10px;
  transition:0.2s;
}
.navbar-principal a:hover { color:#ff6600; }
#profile { display:flex; align-items:center; gap:8px; font-weight:700; color:#fff; }
#profile span.logout { color:#ff6600; cursor:pointer; font-weight:700; }

.navbar-secundar {
  display:flex;
  justify-content:center;
  margin:10px 0 20px 0;
  gap:10px;
}
.navbar-secundar button {
  background:none;
  border:1px solid #fff;
  color:#fff;
  padding:8px 15px;
  font-size:16px;
  cursor:pointer;
  border-radius:5px;
  transition:0.2s;
}
.navbar-secundar button.active, .navbar-secundar button:hover {
  background:#fff;
  color:#0b0c17;
}

.content {
  padding:0 20px 40px 20px;
}
table {
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
  background: rgba(17,17,17,0.85);
  border-radius:8px;
  overflow:hidden;
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  color:#fff;
}
th, td { padding:10px; text-align:left; border-bottom:1px solid #333; }
th { background: #222; }
img { width:50px; height:50px; object-fit:cover; border-radius:50%; }
.hidden { display:none; }
</style>
</head>
<body>

<!-- Navbar principal -->
<ul class="navbar-principal">
  <li><a href="index.html">Forumuri</a></li>
  <li><a href="tabel_lider.html">Lista Lideri</a></li>
  <li><a href="evidenta.html">Evidența Servere</a></li>
  <li id="profile"></li>
</ul>

<!-- Navbar secundar -->
<div class="navbar-secundar">
  <button class="tab-btn active" onclick="showTab('Politie')">Poliție</button>
  <button class="tab-btn" onclick="showTab('Medici')">Medici</button>
  <button class="tab-btn" onclick="showTab('Mafii')">Mafii</button>
</div>

<div class="content">
  <div id="Politie" class="tab-content">
    <h2>TABEL POLIȚIE</h2>
    <table id="table_politie">
      <thead><tr><th>Poza</th><th>Nume</th><th>Grad</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div id="Medici" class="tab-content hidden">
    <h2>TABEL MEDICI</h2>
    <table id="table_medici">
      <thead><tr><th>Poza</th><th>Nume</th><th>Grad</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <div id="Mafii" class="tab-content hidden">
    <h2>TABEL MAFII</h2>
    <table id="table_mafii">
      <thead><tr><th>Poza</th><th>Nume</th><th>Grad</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyA40DfthDKIy812oujRj2JLLg1Y_dCvJvI",
  authDomain: "ecstassy-44277.firebaseapp.com",
  databaseURL: "https://ecstassy-44277-default-rtdb.firebaseio.com",
  projectId: "ecstassy-44277",
  storageBucket: "ecstassy-44277.firebasestorage.app",
  messagingSenderId: "557171186889",
  appId: "1:557171186889:web:0cae151137b761b2660118",
  measurementId: "G-34Q8PVK8EH"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();
const profileLi = document.getElementById("profile");

auth.onAuthStateChanged(user => {
  if(user){
    db.ref('users/'+user.uid).once('value').then(snapshot=>{
      const data = snapshot.val();
      profileLi.innerHTML = `<i class="fas fa-user"></i> ${user.displayName || user.email} <span class="logout" onclick="logout()">Logout</span>`;
    });
  } else {
    profileLi.innerHTML = '';
  }
});

function logout(){ auth.signOut(); }

// Tabs
function showTab(grup){
  document.querySelectorAll('.tab-content').forEach(div=>div.classList.add('hidden'));
  document.getElementById(grup).classList.remove('hidden');

  document.querySelectorAll('.tab-btn').forEach(btn=>btn.classList.remove('active'));
  document.querySelector(`.tab-btn[onclick="showTab('${grup}')"]`).classList.add('active');
}

// Încarcă liderii în tabele
function loadLideri(){
  const lideri = JSON.parse(localStorage.getItem('lideri')) || [];
  const tables = {
    Politie: document.querySelector('#table_politie tbody'),
    Medici: document.querySelector('#table_medici tbody'),
    Mafii: document.querySelector('#table_mafii tbody')
  };
  Object.values(tables).forEach(tbody=>tbody.innerHTML='');

  lideri.forEach(lider=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td><img src="${lider.img}" alt="${lider.nume}"></td>
      <td>${lider.nume}</td>
      <td>${lider.grad}</td>
    `;
    tables[lider.grup].appendChild(tr);
  });
}

// La start
window.onload = ()=>{ 
  loadLideri();
  showTab('Politie');
};
</script>

</body>
</html>
